@model List<BC3.Classes.GioHang>
@{
    ViewBag.Title = "GioHang";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="text-uppercase text-center">Giỏ hàng của bạn</h2>
<div class="border border-2 border-black my-4 bg-white">
    <table class="table table-borderless table-hover my-2">
        <tr class="text-uppercase text-center">
            <th>Tên món</th>
            <th>Số lượng</th>
            <th>Đơn giá</th>
            <th>Thành tiền</th>
            <th></th>
            <th>
                <a class="btn btn-sm btn-danger" href="/GioHang/XoaGioHang_ALL" data-bs-toggle="tooltip" title="Delete All"><i class="bi bi-x-lg"></i></a>
            </th>
            <th></th>
        </tr>
        @foreach (var item in Model)
        {
            <tr class="text-center">
                <form method="post" action="@Url.Action("CapNhatGioHang","GioHang")">
                    <td width="26%">@item.TenCB</td>
                    <td width="10%">
                        @Html.Hidden("ms", item.ComboID)
                        <input type="number" class="form-control" id="txtSoLuong" name="txtSoLuong" value="@item.Soluong" />
                    </td>
                    <td width="12%">@String.Format("{0:0,0}", item.GiaBan)</td>
                    <td width="16%">@String.Format("{0:0,0}", item.ThanhTien)</td>
                    <td>
                        <a class="btn btn-sm btn-outline-danger" href="/GioHang/XoaGioHang/@item.ComboID">Delete</a>
                    </td>
                    <td>
                        <button type="submit" class="btn btn-sm btn-primary">Update</button>
                    </td>
                </form>
            </tr>
        }
        <tr>
            <th colspan="3" class="text-primary text-end">Tổng cộng:</th>
            <th class="text-danger text-center">@ViewBag.tongSoLuong</th>
            <th colspan="2" class="text-end text-danger">@String.Format("{0:0,0}", ViewBag.tongThanhTien) VNĐ</th>
        </tr>
    </table>
</div>

